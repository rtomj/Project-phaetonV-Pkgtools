#!/bin/sh

. pkg

#
# ports utility
#

# Move this to a config file... or pkg?
archive="https://github.com/rtomj/Project-Phaeton/blob/master/ports.tar.gz?raw=true"

id=`id | awk -F'=' '{print $2}' | awk -F'(' '{print $1}'`

usage() {
    echo "usage: ports fetch|update(?)|sync(?)"
}

case "$1" in
    fetch*)
        if [ "$id" != 0 ]
        then
            echo "You must be root"
            exit 1
        elif [ "$id" = 0 ]
        then
            echo "===> Fetching ports archive"
            # download ports archive
            echo "===> Extracting ports archive"
            tar xf ports.tar.gz
        fi
        ;;
    *)
    usage
    ;;
esac
